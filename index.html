<!DOCTYPE html>
<html>
    <head>
        <title>Rock, Paper, Scissors</title>
        <meta charset="UTF-8"/>
    </head>

    <body>
        <script>
            let playerScore = 0;
            let computerScore = 0;


            function computerPlay() {
                const rndInt = randomIntFromInterval(1, 3);
                if (rndInt === 3)
                    computerSelection = "rock";
                else if (rndInt === 2)
                    computerSelection = "paper"
                else
                    computerSelection = "scissors"
                
                return computerSelection;
            }

            function getPlayerSelection(string) {
                let selection = prompt("Rock, Paper, or Scissors?")

                if (selection.toLowerCase() === "rock")
                    playerSelection = "rock";
                else if (selection.toLowerCase() === "paper")
                    playerSelection = "paper";
                else if (selection.toLowerCase() === "scissors")
                    playerSelection = "scissors";
                else
                    alert("Please enter either Rock, Paper, or Scissors.")

                return playerSelection;
            }

            function randomIntFromInterval(min,max) {
                return Math.floor(Math.random() * (max - min +1) + min);
            }
            function determineWinner(playerSelection, computerSelection){

                if (playerSelection === "rock" && computerSelection === "scissors")
                   return "You Win!! Rock beats Scissors";
                else if(playerSelection === "rock" && computerSelection === "paper")
                   return "You Lose!! Paper beats Rock";
                else if (playerSelection === "paper" && computerSelection === "scissors")
                   return "You Lose!! Scissors beat Paper";
                else if (playerSelection === "paper" && computerSelection === "rock")
                   return "You Win!! Paper beats Rock";
                else if (playerSelection === "scissors" && computerSelection === "paper")
                   return "You Win!! Scissors beat Paper";
                else if (playerSelection === "scissors" && computerSelection === "rock")
                   return "You Lose!! Rock beats Scissors";
                else
                    return "It's a tie.";
            }

            function playRound() {

                const playerSelection = getPlayerSelection();
                console.log("Player chose: " + playerSelection);
                const computerSelection = computerPlay();
                console.log("Computer chose: " + computerSelection);

                let roundWinner = determineWinner(playerSelection, computerSelection);

                console.log(roundWinner);

                if (roundWinner === "You Win!! Rock beats Scissors" || "You Win!! Paper beats Rock" || "You Win!! Scissors beat Paper"){
                    
                    playerScore++;
                    return 0;
                }
                else if (roundWinner === "You Lose!! Paper beats Rock" || "You Lose!! Scissors beat Paper" || "You Lose!! Rock beats Scissors") {
                    computerScore++;
                    return 1;
                }
                else if (roundWinner === "It's a tie.") {
                    ties++;
                    return 2;
                }
                    
                
            }

            function game() {

               let playerScore = 0;
               let computerScore = 0;
 

               for (let games = 0; games < 5; games++) {
                   var play = playRound();

               }

               

               if (playerScore > computerScore)
                return "You win!!";
               else 
                return "You lose!";
            }

            console.log(game());
        </script>
    </body>
</html>